@echo off
:: ================================================
:: VERIFICA√á√ÉO E EXECU√á√ÉO
:: ================================================

if exist "build\family_tree.exe" (
    echo.
    echo ‚úÖ COMPILA√á√ÉO CONCLU√çDA COM SUCESSO!
    echo.
    
    if "%NEED_COMPILE%"=="1" (
        if "%COMPILE_COUNT%"=="0" (
            echo üìä Apenas linkagem realizada
        ) else (
            echo üìä Compilados: %COMPILE_COUNT% arquivo(s)
        )
        echo.
    ) else (
        echo üöÄ Usando execut√°vel pr√©-compilado.
        echo.
    )
    
    echo üöÄ Iniciando programa em terminal externo...
    timeout 2 > nul
    
    :: Iniciar programa SEM /wait para evitar problemas de redirecionamento
    start "√Årvore Geneal√≥gica" build\family_tree.exe
    
    echo.
    echo üìã Programa iniciado em nova janela. Esta janela pode ser fechada.
    echo.
    pause
    exit /b 0
) else (
    echo.
    echo ‚ùå ERRO: Execut√°vel n√£o foi criado!
    echo.
    pause
    exit /b 1
)